#summary Localisation of scripts (displaying output in different languages)

[http://code.google.com/p/karrigell/wiki/Home Home] / [http://code.google.com/p/karrigell/wiki/RefeRence Reference]

Localizing a script means that text can be displayed in different languages, without having to write a script per language

The standard way to do this in Karrigell is to use the script <font color="#336633"><b>translation.py</b></font>, provided in folder www. In a script where you have strings to translate, begin with

{{{
_ = Import('translations.py').translate
}}}

This will make function <font color="#336633"><b>`_`()</b></font> available in the namespace of your script

If your script has a line such as
{{{
content = _("myString")
}}}

it will be translated if the translations file has a translation for _myString_ in one the languages found in the browsers language preferences (the browser sends it as the "accept-language" header)

The translations file is a plain text file, its path is specified in the script translation.py. Its format is very simple :
<pre>
  `[`key]myString
  `[`fr]Ceci est une chaîne à traduire
  `[`default]This is a string to translate
</pre>

The translation script finds that there is a line beginning with `[key]` immediately followed by myString ; if the user has defined French as one of the languages in the browsers preference, it returns the translation in French, identified by the heading `[fr]` in the next line. If no translation is found, then the `[default]` line is returned

By default, the translation file is supposed to be encoded in iso-8859-1 but another encoding can be specified in <font color="#336633"><b>translation.py</b></font>